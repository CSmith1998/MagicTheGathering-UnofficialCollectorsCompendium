@{
    ViewData["Title"] = "Collection";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model List<Collection>

<div class="grid-container">
    @if (Model != null && Model.Count > 0) {
        var previousCardName = "";
        var isFirstCardName = true;
        var currentIndex = 0;

        while (currentIndex < Model.Count) {
            var currentCardName = Model[currentIndex].CardName;

            if (currentCardName != previousCardName) {
                if (!isFirstCardName) {
                    <hr />
                } else {
                    isFirstCardName = false;
                }

                <h4>@Model[currentIndex].CardName</h4>
                previousCardName = currentCardName;
            }

            <div class="grid-row">
                @for (int col = 0; col < 3; col++) {
                    if (currentIndex < Model.Count && Model[currentIndex].CardName == currentCardName) {
                        var item = Model[currentIndex];
                        Html.RenderPartial("_GridItemPartial", item);
                        currentIndex++;
                    } else {
                        <div class="grid-item empty"></div>
                    }
                }
            </div>
        }
    }
</div>
















@*<h1>Collection</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.First().CardID)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().StorageLocation)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().Quantity)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.CardID)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.StorageLocation)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Quantity)
            </td>
            <td>
                <a asp-action="Edit" asp-route-id="@item.CompendiumID">Edit</a> |
                <a asp-action="Details" asp-route-id="@item.CompendiumID">Details</a> |
                <a asp-action="Delete" asp-route-id="@item.CompendiumID">Delete</a>
            </td>
        </tr>
}
    </tbody>
</table>*@
